(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{pZl2:function(l,n,t){"use strict";t.r(n);var o=t("8Y7J");class e{}var a=t("pMnS"),i=t("oBZk"),u=t("ZZ/e"),r=t("mrSG"),b=t("6/gD"),s=t("0C7L"),c=t("UPSQ"),h=t("k/Ta"),p=t("vVWd"),d=t("1Vzp");class m{constructor(l,n,t,o,e,a,i,u,r){this.authSvc=l,this.modalCtrl=n,this.pipe=t,this.afs=o,this.photoSvc=e,this.modalController=a,this.loadvie=i,this.loadc=u,this.alertController=r,this.imgURI=null,this.date=new Date,this.progress=10,this.isOnProgress=!1}showRModal(){return r.__awaiter(this,void 0,void 0,(function*(){const l=yield this.modalController.create({component:h.a});return yield l.present()}))}presentModal(l,n,t){return r.__awaiter(this,void 0,void 0,(function*(){const o=yield this.modalController.create({component:s.a,componentProps:{photoFile:l,fileEvent:n,fileURI:t},id:"viewModal"});return yield o.present().then(()=>{})}))}presentMetadata(l){return r.__awaiter(this,void 0,void 0,(function*(){const n=yield this.modalController.create({component:d.a,componentProps:{filePath:l},id:"viewModal"});return yield n.present()}))}abrirFoto(l){null!=this.pwaphoto&&(console.log(l),this.fileEvent=l,this.pwaphoto.nativeElement.click())}"alertaFotograf\xeda"(){return r.__awaiter(this,void 0,void 0,(function*(){const l=yield this.alertController.create({header:"Alerta!",message:"La fotograf\xeda que subi\xf3 contiene contenido no apto para la plafatofma, porfavor comparta otro tipo de fotograf\xedas para una mejor comunidad.",buttons:[{text:"Entendido!",handler:()=>{}}]});yield l.present()}))}cambiarPWAFOTO(l){return r.__awaiter(this,void 0,void 0,(function*(){null!=this.pwaphoto&&(this.fileEvent=l,this.photoSvc.uploadAndGetThumb(this.pwaphoto.nativeElement.files[0]).then(l=>r.__awaiter(this,void 0,void 0,(function*(){this.loadvie.actionExecution("Identificando la fotograf\xeda..."),yield new Promise(l=>setTimeout(()=>l(),4500)).then(()=>{this.loadvie.endExecution(),this.photoSvc.getDownloadURL(l[0]).then(n=>{console.log(n),this.presentMetadata(l)}).catch(l=>{this.alertaFotograf\u00eda()})})}))))}))}archivoABase64(l){return new Promise((n,t)=>{let o=new FileReader;o&&null!=l?(o.readAsDataURL(l),o.onload=()=>{n(o.result)},o.onerror=l=>{t(l)}):t(new Error("No file found"))})}}var f=t("SVse"),v=t("Xr7G"),w=o.qb({encapsulation:0,styles:[[""]],data:{}});function C(l){return o.Kb(0,[o.Hb(671088640,1,{pwaphoto:0}),(l()(),o.sb(1,0,null,null,30,"ion-tabs",[],null,[[null,"ionTabButtonClick"]],(function(l,n,t){var e=!0;return"ionTabButtonClick"===n&&(e=!1!==o.Eb(l,2).select(t.detail.tab)&&e),e}),i.cb,i.z)),o.rb(2,49152,null,1,u.wb,[u.Ib],null,null),o.Hb(335544320,2,{tabBar:0}),(l()(),o.sb(4,0,null,1,27,"ion-tab-bar",[["slot","bottom"]],null,null,null,i.ab,i.x)),o.rb(5,49152,[[2,4]],0,u.ub,[o.h,o.k,o.x],null,null),(l()(),o.sb(6,0,null,0,6,"ion-tab-button",[["tab","home"]],null,null,null,i.bb,i.y)),o.rb(7,49152,null,0,u.vb,[o.h,o.k,o.x],{tab:[0,"tab"]},null),(l()(),o.sb(8,0,null,0,1,"ion-icon",[["name","home"]],null,null,null,i.Q,i.n)),o.rb(9,49152,null,0,u.C,[o.h,o.k,o.x],{name:[0,"name"]},null),(l()(),o.sb(10,0,null,0,2,"ion-label",[],null,null,null,i.T,i.q)),o.rb(11,49152,null,0,u.N,[o.h,o.k,o.x],null,null),(l()(),o.Jb(-1,0,["Inicio"])),(l()(),o.sb(13,0,null,0,4,"ion-tab-button",[],null,[[null,"click"]],(function(l,n,t){var o=!0;return"click"===n&&(o=!1!==l.component.abrirFoto(t)&&o),o}),i.bb,i.y)),o.rb(14,49152,null,0,u.vb,[o.h,o.k,o.x],null,null),(l()(),o.sb(15,0,[[1,0],["pwaphoto",1]],0,0,"input",[["accept","image/x-png,image/jpeg"],["hidden",""],["id","pwaphoto"],["name","camera"],["type","file"]],null,[[null,"change"]],(function(l,n,t){var o=!0;return"change"===n&&(o=!1!==l.component.cambiarPWAFOTO(t)&&o),o}),null,null)),(l()(),o.sb(16,0,null,0,1,"ion-icon",[["name","camera"]],null,null,null,i.Q,i.n)),o.rb(17,49152,null,0,u.C,[o.h,o.k,o.x],{name:[0,"name"]},null),(l()(),o.sb(18,0,null,0,6,"ion-tab-button",[],null,[[null,"click"]],(function(l,n,t){var o=!0;return"click"===n&&(o=!1!==l.component.showRModal()&&o),o}),i.bb,i.y)),o.rb(19,49152,null,0,u.vb,[o.h,o.k,o.x],null,null),(l()(),o.sb(20,0,null,0,1,"ion-icon",[["name","book"]],null,null,null,i.Q,i.n)),o.rb(21,49152,null,0,u.C,[o.h,o.k,o.x],{name:[0,"name"]},null),(l()(),o.sb(22,0,null,0,2,"ion-label",[],null,null,null,i.T,i.q)),o.rb(23,49152,null,0,u.N,[o.h,o.k,o.x],null,null),(l()(),o.Jb(-1,0,["Recursos"])),(l()(),o.sb(25,0,null,0,6,"ion-tab-button",[["tab","profile"]],null,null,null,i.bb,i.y)),o.rb(26,49152,null,0,u.vb,[o.h,o.k,o.x],{tab:[0,"tab"]},null),(l()(),o.sb(27,0,null,0,1,"ion-icon",[["name","person"]],null,null,null,i.Q,i.n)),o.rb(28,49152,null,0,u.C,[o.h,o.k,o.x],{name:[0,"name"]},null),(l()(),o.sb(29,0,null,0,2,"ion-label",[],null,null,null,i.T,i.q)),o.rb(30,49152,null,0,u.N,[o.h,o.k,o.x],null,null),(l()(),o.Jb(-1,0,["Perfil"]))],(function(l,n){l(n,7,0,"home"),l(n,9,0,"home"),l(n,17,0,"camera"),l(n,21,0,"book"),l(n,26,0,"profile"),l(n,28,0,"person")}),null)}function g(l){return o.Kb(0,[(l()(),o.sb(0,0,null,null,1,"app-tabs",[],null,null,null,C,w)),o.rb(1,49152,null,0,m,[c.a,u.Hb,f.d,v.a,b.a,u.Hb,p.a,u.Gb,u.b],null,null)],null,null)}var k=o.ob("app-tabs",m,g,{},{},[]),x=t("s7LF"),y=t("iInd");const P=()=>t.e(16).then(t.bind(null,"JLuJ")).then(l=>l.Tab1PageModuleNgFactory),T=()=>t.e(3).then(t.bind(null,"UIoA")).then(l=>l.ProfilePageModuleNgFactory);class M{}t.d(n,"TabsPageModuleNgFactory",(function(){return E}));var E=o.pb(e,[],(function(l){return o.Bb([o.Cb(512,o.j,o.ab,[[8,[a.a,k]],[3,o.j],o.v]),o.Cb(4608,f.m,f.l,[o.s,[2,f.x]]),o.Cb(4608,u.c,u.c,[o.x,o.g]),o.Cb(4608,u.Hb,u.Hb,[u.c,o.j,o.p]),o.Cb(4608,u.Lb,u.Lb,[u.c,o.j,o.p]),o.Cb(4608,x.p,x.p,[]),o.Cb(1073742336,f.b,f.b,[]),o.Cb(1073742336,u.Eb,u.Eb,[]),o.Cb(1073742336,x.o,x.o,[]),o.Cb(1073742336,x.e,x.e,[]),o.Cb(1073742336,y.n,y.n,[[2,y.s],[2,y.m]]),o.Cb(1073742336,M,M,[]),o.Cb(1073742336,e,e,[]),o.Cb(1024,y.k,(function(){return[[{path:"tabs",component:m,children:[{path:"home",children:[{path:"",loadChildren:P}]},{path:"profile",children:[{path:"",loadChildren:T}]},{path:"",redirectTo:"/tabs/home",pathMatch:"full"}]},{path:"",redirectTo:"/tabs",pathMatch:"full"}]]}),[])])}))}}]);